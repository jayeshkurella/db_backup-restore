<div class="container-fluid vh-100 d-flex align-items-center justify-content-center" style="background: #decda438;">
  <div class="row shadow-lg rounded w-100" style="max-width: 900px; overflow: hidden;">

    <!-- Left Side: Branding -->
    <div class="col-md-4 d-none d-md-flex flex-column align-items-center justify-content-center text-white p-4"
         style="background: url('assets/images/register.jpeg') no-repeat center center; 
                background-size: cover;">
    </div>

    <!-- Right Side: Registration Form -->
    <div class="col-md-8 bg-white p-3 p-md-5">
      <div class="d-flex justify-content-between w-100">
        <h5 class="mb-3">Register Here</h5>
        <img src="assets/images/Chhaya.png" alt="Chhaya Logo" class="mb-3" 
             style="width: 100px; height: auto; max-width: 100%;">
      </div>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    
        <!-- First Name & Last Name -->
        <div class="row mb-3">
          <div class="col-12 col-md-6 mb-3 mb-md-0">
            <div class="input-group">
              <span class="input-group-text bg-light border-0"><i class="bi bi-person"></i></span>
              <input type="text" class="form-control border-0 border-bottom" formControlName="first_name" placeholder="First Name">
            </div>
            <small class="text-danger" *ngIf="registerForm.controls['first_name'].invalid && registerForm.controls['first_name'].touched">
              First letter must be capital & only letters allowed.
            </small>
          </div>
          <div class="col-12 col-md-6">
            <div class="input-group">
              <span class="input-group-text bg-light border-0"><i class="bi bi-person"></i></span>
              <input type="text" class="form-control border-0 border-bottom" formControlName="last_name" placeholder="Last Name">
            </div>
            <small class="text-danger" *ngIf="registerForm.controls['last_name'].invalid && registerForm.controls['last_name'].touched">
              First letter must be capital & only letters allowed.
            </small>
          </div>
        </div>
    
        <!-- Email -->
        <div class="mb-3">
          <div class="input-group">
            <span class="input-group-text bg-light border-0"><i class="bi bi-envelope"></i></span>
            <input type="email" class="form-control border-0 border-bottom" formControlName="email_id" placeholder="Enter your email">
          </div>
          <small class="text-danger" *ngIf="registerForm.controls['email_id'].invalid && registerForm.controls['email_id'].touched">
            Enter a valid email.
          </small>
        </div>
    
        <!-- Phone Number -->
        <div class="mb-3">
          <div class="input-group">
            <span class="input-group-text bg-light border-0"><i class="bi bi-telephone"></i></span>
            <select class="form-select border-0 border-bottom small-select" formControlName="country_code">
              <option value="+1">ðŸ‡ºðŸ‡¸ +1</option>
              <option value="+91" selected>ðŸ‡®ðŸ‡³ +91</option>
              <option value="+44">ðŸ‡¬ðŸ‡§ +44</option>
              <option value="+61">ðŸ‡¦ðŸ‡º +61</option>
              <option value="+81">ðŸ‡¯ðŸ‡µ +81</option>
            </select>
            <input type="text" class="form-control border-0 border-bottom" formControlName="phone_no" placeholder="Phone Number">
          </div>
          <small class="text-danger" *ngIf="registerForm.controls['phone_no'].invalid && registerForm.controls['phone_no'].touched">
            Enter a valid 10-digit phone number.
          </small>
        </div>
        
        <!-- User Type & Sub Type -->
        <div class="mb-3 d-flex align-items-center gap-2">
          <div class="input-group w-50">
            <span class="input-group-text bg-light border-0"><i class="bi bi-people"></i></span>
            <select class="form-select border-0 border-bottom" formControlName="user_type" (change)="onUserTypeChange()">
              <option value="" disabled>Select User Type</option>
              <option *ngFor="let type of userTypes" [value]="type.value">{{ type.label }}</option>
            </select>
          </div>
        
          <div class="input-group w-50" *ngIf="subUserTypes[registerForm.value.user_type]">
            <span class="input-group-text bg-light border-0"><i class="bi bi-person-badge"></i></span>
            <select class="form-select border-0 border-bottom" formControlName="sub_user_type">
              <option value="" disabled>Sub Type</option>
              <option *ngFor="let subtype of subUserTypes[registerForm.value.user_type]" [value]="subtype.value">
                {{ subtype.label }}
              </option>
            </select>
          </div>
        </div>
        
        <!-- Password Field -->
        <div class="mb-3">
          <div class="input-group">
            <span class="input-group-text bg-light border-0"><i class="bi bi-lock"></i></span>
            <input type="password" class="form-control border-0 border-bottom" formControlName="password" placeholder="Enter password">
          </div>
          <small class="text-danger" *ngIf="registerForm.controls['password'].invalid && registerForm.controls['password'].touched">
            Password must be 6+ chars, 1 uppercase, 1 lowercase, 1 number, 1 special character.
          </small>
        </div>

        <!-- Confirm Password -->
        <div class="mb-3">
          <div class="input-group">
            <span class="input-group-text bg-light border-0"><i class="bi bi-lock"></i></span>
            <input type="password" class="form-control border-0 border-bottom" formControlName="password2" placeholder="Confirm password">
          </div>
          <small class="text-danger" *ngIf="registerForm.errors?.['passwordMismatch']">
            Passwords do not match.
          </small>
          
        </div>
    
        <!-- Consent Checkbox -->
        <div class="mb-3 d-flex align-items-center">
          <input type="checkbox" class="form-check-input me-2" formControlName="is_consent" />
          <label class="form-check-label">
            I agree to the 
            <a href="#" class="text-danger fw-bold" data-bs-toggle="modal" data-bs-target="#teermsModal">
              Terms and Conditions
            </a>
          </label>
        </div>
    
        <!-- Submit Button -->
        <div class="d-grid">
          <button type="submit" class="btn text-white fw-bold py-2" 
                  style="background: linear-gradient(45deg, #FA6400, #E63946);" 
                  [disabled]="registerForm.invalid">
            Register
          </button>
        </div>
    
        <p class="text-center mt-3">
          Already registered? 
          <a routerLink="/login" class="text-danger fw-bold">Login</a>
        </p>
        <p class="text-center mt-3">
          
          <a routerLink="/Main-dashboard" class="text-danger fw-bold">Dashboard</a>
        </p>
    
      </form>
    </div>
    
  </div>
</div>





<!-- Bootstrap Modal for Terms & Conditions -->
<div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="termsModalLabel">Terms and Conditions</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla convallis egestas rhoncus. 
           Donec facilisis fermentum sem, ac viverra ante luctus vel. Donec vel mauris quam.</p>
        <p>Pellentesque egestas enim a libero ornare, non semper risus cursus. Duis ut felis ac 
           orci venenatis vulputate. Sed sodales est at nisl vulputate, a aliquet nulla vehicula.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>