<div class="container text-dark py-5 text-center border-bottom">
    <h5 class="fs-5">Find Your Local Hospital</h5>
    <h6 class="fs-6 ">Quick access to emergency medical services and hospitals across the country</h6>
    
<!-- Button to Open Modal -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#hospitalModal">
    Add Hospital
</button>
  </div>
  
  <div class="container py-2">
    <div class="row">
      <div class="col-md-4" *ngFor="let hospital of allhospitals">
        <div class="card shadow-sm rounded border-1 p-3  h-100"> <!-- Added h-100 for equal height -->
          <div class="row g-0 h-100"> <!-- Added h-100 for equal height -->
            <!-- Image Placeholder -->
            <div class="col-12 text-center bg-light" style="height: 250px;"> <!-- Fixed height for image container -->
              <div class="w-100 h-100 overflow-hidden d-flex align-items-center justify-content-center">
                <img *ngIf="hospital.hospital_photo; else placeholder" 
                    [src]="environment.apiUrl + hospital.hospital_photo" 
                    alt="{{ hospital.name }}" 
                    class="img-fluid object-fit-cover w-100 h-100" 
                    style="border-radius: 8px;">
                <ng-template #placeholder>
                  <i class="bi bi-image" style="font-size: 3rem; color: #ccc;"></i>
                </ng-template>
              </div>
            </div>
            
            <!-- Details -->
            <div class="col-12 p-3 d-flex flex-column"> <!-- Added flex-column for equal height -->
              <div class="d-flex justify-content-between align-items-start">
                <h5 class="fw-bold mb-2" style="font-size: 14px;">{{ hospital.name || 'Loading...' }}</h5>
                <span class="badge search-btn" [ngClass]="{'bg-dark': hospital.type === 'Non-Government', 'bg-success': hospital.type !== 'Government'}">
                  {{ hospital.type }}
                </span>
              </div>
              <!-- Horizontal Layout for Info -->
              <div class="row flex-grow-1"> 
                <!-- Address -->
                <div class="col-6 p-2">
                  <h6 class="fw-semibold mb-1" style="font-size: 14px;">
                    <i class="bi bi-geo-alt"></i> Address
                  </h6>
                  <h6 style="font-size: 13px;">Street: {{ hospital.address_details.street || 'N/A' }}</h6>
                  <h6 style="font-size: 13px;">Apartment No: {{ hospital.address_details.appartment_no || 'N/A' }}</h6>
                  <h6 style="font-size: 13px;">Village: {{ hospital.address_details.village || 'N/A' }}</h6>
                  <h6 style="font-size: 13px;">City: {{ hospital.address_details.city || 'N/A' }}</h6>
                  <h6 style="font-size: 13px;">District: {{ hospital.address_details.district || 'N/A' }}</h6>
                  <h6 style="font-size: 13px;">State: {{ hospital.address_details.state || 'N/A' }}</h6>
                  <h6 style="font-size: 13px;">Pincode: {{ hospital.address_details.pincode || 'N/A' }}</h6>
                  <h6 style="font-size: 13px;">Country: {{ hospital.address_details.country || 'N/A' }}</h6>
                </div>
              
                <!-- Contact -->
                <div class="col-6 p-2">
                  <h6 class="fw-semibold mb-1" style="font-size: 14px;">
                    <i class="bi bi-telephone"></i> Contact
                  </h6>
                  <h6 style="font-size: 13px;">
                    Phone: 
                    <span *ngIf="hospital.hospital_contact?.length">
                      {{ hospital.hospital_contact[0]?.country_cd || '' }} {{ hospital.hospital_contact[0]?.phone_no || 'N/A' }}
                    </span>
                    <span *ngIf="!hospital.hospital_contact?.length">Not Available</span>
                  </h6>
                  <h6 style="font-size: 13px;">
                    Email: {{ hospital.hospital_contact?.[0]?.email_id || 'Not Available' }}
                  </h6>
                  <h6 style="font-size: 13px;">
                    Company: {{ hospital.hospital_contact?.[0]?.company_name || 'N/A' }}
                  </h6>
                  <h6 style="font-size: 13px;">
                    Job Title: {{ hospital.hospital_contact?.[0]?.job_title || 'N/A' }}
                  </h6>
                  <h6 style="font-size: 13px;">
                    <a *ngIf="hospital.hospital_contact?.[0]?.website_url" 
                       [href]="'https://' + hospital.hospital_contact[0]?.website_url" 
                       target="_blank" 
                       class="text-primary">
                      Visit Website
                    </a>
                    <span *ngIf="!hospital.hospital_contact?.[0]?.website_url">Not Available</span>
                  </h6>
                  <h6 style="font-size: 13px;">
                    <a *ngIf="hospital.hospital_contact?.[0]?.social_media_url" 
                       [href]="'https://' + hospital.hospital_contact[0]?.social_media_url" 
                       target="_blank" 
                       class="text-primary">
                      Social Media
                    </a>
                    <span *ngIf="!hospital.hospital_contact?.[0]?.social_media_url">Not Available</span>
                  </h6>
                </div>
              </div>
              
              
              <!-- Footer Section -->
              <!-- <div class="d-flex justify-content-between align-items-center mt-1">
                <p class="text-muted small mb-0">
                  <i class="bi bi-clock"></i> 24/7
                </p>
                <button class="btn btn-outline-primary btn-sm" (click)="seeMoreHospital(hospital)">
                  More Info
                </button>
              </div> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <!-- No Data Message -->
    <div *ngIf="allhospitals?.length === 0">
      <p style="font-size: 13px;">No Hospitals Available.</p>
    </div>
  </div>
  


  
  <!-- Bootstrap Modal for Hospital -->
<div class="modal fade" id="hospitalModal" tabindex="-1" aria-labelledby="hospitalModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="hospitalModalLabel">Add Hospital</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form [formGroup]="hospitalForm" (ngSubmit)="submitForm()">
            
            <!-- Hospital Information -->
            <h5>Hospital Information</h5>
            <div class="row">
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">Hospital Name</label>
                  <input type="text" class="form-control" formControlName="name">
                </div>
              </div>
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">Type</label>
                  <select class="form-select" formControlName="type">
                    <option value="" selected>Select Type</option>
                    <option value="gvt">Government</option>
                    <option value="nongvt">Non-Government</option>
                  </select>
                </div>
              </div>
            </div>
  
            <div class="row">
              <div class="col-md-6">
                <div class="mb-3">
                  <label class="form-label">Upload Hospital Image</label>
                  <input type="file" class="form-control" (change)="onFileChange($event)">
                </div>
              </div>
            </div>
  
            <!-- Address Details -->
            <h5>Address Details</h5>
            <div formGroupName="address">
                <div class="row">
                  <div class="col-md-4">
                    <div class="mb-3">
                        <label class="form-label">Address Type</label>
                        <select class="form-select" formControlName="address_type">
                          <option value="" selected>Address Type</option>
                          <option value="PERMANENT">Permanent</option>
                          <option value="CURRENT">Current</option>
                          <option value="OLD">Old</option>
                          <option value="HOME">Home</option>
                          <option value="OFFICE">Office</option>
                        </select>
                      </div>
                      
                  </div>
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label class="form-label">Street</label>
                      <input type="text" class="form-control" formControlName="street">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label class="form-label">Apartment No.</label>
                      <input type="text" class="form-control" formControlName="appartment_no">
                    </div>
                  </div>
                </div>
              
                <div class="row">
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label class="form-label">Apartment Name</label>
                      <input type="text" class="form-control" formControlName="appartment_name">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label class="form-label">Village</label>
                      <input type="text" class="form-control" formControlName="village">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label class="form-label">City</label>
                      <input type="text" class="form-control" formControlName="city">
                    </div>
                  </div>
                </div>
              
                <div class="row">
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label class="form-label">District</label>
                      <input type="text" class="form-control" formControlName="district">
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label class="form-label">State</label>
                      <select class="form-select" formControlName="state">
                        <option value="" selected>Select State</option>
                        <option value="Andhra Pradesh">Andhra Pradesh</option>
                        <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                        <option value="Assam">Assam</option>
                        <option value="Bihar">Bihar</option>
                        <option value="Chhattisgarh">Chhattisgarh</option>
                        <option value="Goa">Goa</option>
                        <option value="Gujarat">Gujarat</option>
                        <option value="Haryana">Haryana</option>
                        <option value="Himachal Pradesh">Himachal Pradesh</option>
                        <option value="Jharkhand">Jharkhand</option>
                        <option value="Karnataka">Karnataka</option>
                        <option value="Kerala">Kerala</option>
                        <option value="Madhya Pradesh">Madhya Pradesh</option>
                        <option value="Maharashtra">Maharashtra</option>
                        <option value="Manipur">Manipur</option>
                        <option value="Meghalaya">Meghalaya</option>
                        <option value="Mizoram">Mizoram</option>
                        <option value="Nagaland">Nagaland</option>
                        <option value="Odisha">Odisha</option>
                        <option value="Punjab">Punjab</option>
                        <option value="Rajasthan">Rajasthan</option>
                        <option value="Sikkim">Sikkim</option>
                        <option value="Tamil Nadu">Tamil Nadu</option>
                        <option value="Telangana">Telangana</option>
                        <option value="Tripura">Tripura</option>
                        <option value="Uttar Pradesh">Uttar Pradesh</option>
                        <option value="Uttarakhand">Uttarakhand</option>
                        <option value="West Bengal">West Bengal</option>
                        <option value="Andaman Nicobar">Andaman and Nicobar Islands</option>
                        <option value="Chandigarh">Chandigarh</option>
                        <option value="Dadra_Nagar Haveli">Dadra and Nagar Haveli</option>
                        <option value="Daman Diu">Daman and Diu</option>
                        <option value="Delhi">Delhi</option>
                        <option value="Lakshadweep">Lakshadweep</option>
                        <option value="Puducherry">Puducherry</option>
                      </select>
                      
                    </div>
                  </div>
                  
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label class="form-label">Country</label>
                      <select class="form-select" formControlName="country">
                        <option value="" selected>Select Country</option>
                        <option value="India">India</option>
                        <option value="United States">United States</option>
                        <option value="Canada">Canada</option>
                        <option value="United Kingdom">United Kingdom</option>
                        <option value="Australia">Australia</option>
                        <option value="France">France</option>
                        <option value="Germany">Germany</option>
                        <option value="Italy">Italy</option>
                        <option value="Spain">Spain</option>
                        <option value="China">China</option>
                        <option value="Japan">Japan</option>
                        <option value="Brazil">Brazil</option>
                        <option value="Russia">Russia</option>
                        <option value="South Africa">South Africa</option>
                        <option value="Mexico">Mexico</option>
                        <option value="United Arab Emirates">United Arab Emirates</option>
                        <option value="Singapore">Singapore</option>
                        <option value="New Zealand">New Zealand</option>
                      </select>
                    </div>
                  </div>
                </div>
              
                <div class="row">
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label class="form-label">Pincode</label>
                      <input type="text" class="form-control" formControlName="pincode">
                    </div>
                  </div>
                  <div class="col-md-8">
                    <div class="mb-3">
                      <label class="form-label">Landmark Details</label>
                      <input type="text" class="form-control" formControlName="landmark_details">
                    </div>
                  </div>
                </div>
              
                <!-- Location Fields with Map -->
                <h5>Location Details</h5>
                <div formGroupName="location">
                    <div class="row">
                      <!-- Left Side: Latitude, Longitude & Button -->
                      <div class="col-md-6">
                        <div class="mb-3">
                          <label class="form-label">Latitude</label>
                          <input type="text" class="form-control" formControlName="latitude" readonly>
                        </div>
                        <div class="mb-3">
                          <label class="form-label">Longitude</label>
                          <input type="text" class="form-control" formControlName="longitude" readonly>
                        </div>
                        <div class="mt-3">
                          <button type="button" class="btn btn-outline-primary border-dark custom-hover w-100" (click)="getCurrentLocation()">
                            <i class="bi bi-geo-alt"></i> Get Current Location
                          </button>
                        </div>
                      </div>
                  
                      <!-- Right Side: Map -->
                      <div class="col-md-6">
                        <div id="mapHome" style="height: 200px; border: 1px solid black;"></div>
                      </div>
                    </div>
                  </div>
                  
              </div>

            <!-- Contact Details -->
            <h5>Contact Details</h5>
            <div formArrayName="hospital_contact">
              <div *ngFor="let contact of contacts.controls; let i = index" [formGroupName]="i" class="border p-3 mb-3 rounded">
                <div class="row">
                    <div class="col-md-4">
                        <label class="form-label">contact Type</label>
                        <select class="form-select" formControlName="type">
                          <option value="" selected>Contact Type</option>
                          <option value="personal">Personal</option>
                          <option value="office">Office</option>
                          <option value="home">Home</option>
                        </select>
                      </div>
                      
                    <div class="col-md-4">
                      <div class="mb-3">
                        <label class="form-label">Phone Number</label>
                        <input type="text" class="form-control" formControlName="phone_no">
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="mb-3">
                        <label class="form-label">Country Code</label>
                        <input type="text" class="form-control" formControlName="country_cd">
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="mb-3">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" formControlName="email_id">
                      </div>
                    </div>
                  </div>
              
                  <div class="row">
                    <div class="col-md-4">
                      <div class="mb-3">
                        <label class="form-label">Company Name</label>
                        <input type="text" class="form-control" formControlName="company_name">
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="mb-3">
                        <label class="form-label">Job Title</label>
                        <input type="text" class="form-control" formControlName="job_title">
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="mb-3">
                        <label class="form-label">Website URL</label>
                        <input type="text" class="form-control" formControlName="website_url">
                      </div>
                    </div>
                  </div>
              
                  <div class="row">
                    <div class="col-md-4">
                      <div class="mb-3">
                        <label class="form-label">Social Media URL</label>
                        <input type="text" class="form-control" formControlName="social_media_url">
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="mb-3">
                        <label class="form-label">Additional Details</label>
                        <input type="text" class="form-control" formControlName="additional_details">
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="mb-3">
                        <label class="form-label">Primary Contact</label>
                        <div class="form-check">
                          <input type="checkbox" class="form-check-input" formControlName="is_primary">
                          <label class="form-check-label">Yes</label>
                        </div>
                      </div>
                    </div>
                  </div>

                
                <div class="text-end">
                  <button type="button" class="btn btn-danger" (click)="removeContact(i)" *ngIf="contacts.length > 1">
                    Remove
                  </button>
                </div>
              </div>
            </div>
  
            <!-- Add Contact Button -->
            <button type="button" class="btn btn-secondary" (click)="addContact()">Add Contact</button>
  
            <!-- Submit Button -->
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary">Submit</button>
            </div>
  
          </form>
        </div>
      </div>
    </div>
  </div>
  
  
  
  
  
  
  