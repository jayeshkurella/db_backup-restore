pipeline {
    agent any

    environment {
        PYTHON_VERSION = 'python3.10'
        VENV_DIR = '.venv'
        REQUIREMENTS_FILE = 'requirements.txt'  // Adjust this path if needed
    }

    stages {
        stage('Declarative: Checkout SCM') {
            steps {
                checkout scm
            }
        }

        stage('Set up Python Environment') {
            steps {
                script {
                    // Creating Python virtual environment
                    sh """
                        sudo apt-get update
                        sudo apt-get install -y python3.10-venv python3-pip
                        python3 -m venv ${VENV_DIR}
                    """
                }
            }
        }

        stage('Install Dependencies') {
            steps {
                script {
                    // Check if requirements.txt exists before installing dependencies
                    if (fileExists(REQUIREMENTS_FILE)) {
                        // Installing dependencies 
